(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-dac1"],{"26cb":function(t,e,i){},6346:function(t,e,i){"use strict";var s=i("86cd"),a=i.n(s);a.a},"86cd":function(t,e,i){},f135:function(t,e,i){"use strict";var s=i("26cb"),a=i.n(s);a.a},f26b:function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.isLoading?i("div",{staticClass:"loading"}):i("div",{staticClass:"full-container is-flex"},[i("div",{staticClass:"is-flex is-flex-column",staticStyle:{width:"300px",height:"100%",padding:"0.5rem"}},[i("nav",{staticClass:"panel"},[i("a",{staticClass:"panel-block has-text-grey",staticStyle:{"font-size":"1rem"},on:{click:function(e){t.$router.push({name:"project create",params:t.$route.params})}}},[i("Icon",{attrs:{name:"plus-bold"}}),t._m(0)],1),i("div",{staticClass:"panel-block"},[i("p",{staticClass:"control has-icons-left"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.query,expression:"query"}],staticClass:"input",attrs:{type:"text"},domProps:{value:t.query},on:{focus:function(e){t.isQueryFocus=!0},blur:function(e){t.isQueryFocus=!1},input:function(e){e.target.composing||(t.query=e.target.value)}}}),t._m(1)])]),i("p",{staticClass:"panel-tabs"},t._l(["进行中","已归档","全部"],function(e){return i("a",{key:e,class:{"is-active":e===t.queryArchived},domProps:{textContent:t._s(e)},on:{click:function(i){t.queryArchived=e}}})}))]),i("div",{staticClass:"is-flex-auto is-bordered full-container"},[i("el-scrollbar",{staticStyle:{height:"100%",overflow:"hidden"}},[i("div",{staticClass:"is-panel"},t._l(t.listFilteredByQuery,function(e){return i("ProjectItem",{key:e,attrs:{highlight:t.isQueryFocus?t.query:"",projectId:t.projectId,project:t.data[e]}})}))])],1)]),i("div",{staticClass:"is-flex-auto"},[i("router-view",{attrs:{project:t.data[t.$route.params.projectId]}})],1)])},a=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("span",[i("strong",[t._v("创建项目")])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("span",{staticClass:"icon is-left"},[i("i",{staticClass:"iconfont icon-search",attrs:{"aria-hidden":"true"}})])}],r=(i("7f7f"),i("c93e")),n=(i("cadf"),i("551c"),i("097d"),i("2f62")),c=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("a",{class:{"panel-block":!0,"is-active":t.isActive},staticStyle:{display:"flex",height:"60px"},on:{click:t.handleClick}},[t.project.filed_at?i("span",{staticClass:"tag is-primary"},[t._v("\n    已归档\n  ")]):i("span",{staticClass:"tag is-success"},[t._v("\n    进行中\n  ")]),i("div",{staticStyle:{"margin-left":"20px",overflow:"hidden"}},[i("div",[i("p",{staticStyle:{"white-space":"nowrap"},domProps:{innerHTML:t._s(t.matchedText(t.project.name))}})])]),i("div",{staticClass:"is-right is-flex",staticStyle:{"items-align":"center",height:"1.5rem"}},[i("a",{directives:[{name:"show",rawName:"v-show",value:t.isActive,expression:"isActive"}],staticClass:"is-clickable",staticStyle:{"margin-right":"0.75rem"},on:{click:function(e){return e.stopPropagation(),t.handleClickSetting(e)}}},[t._m(0)])])])},o=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("span",{staticClass:"icon"},[i("i",{staticClass:"iconfont icon-gear"})])}],l=(i("a481"),{props:{projectId:{},project:{},highlight:String},computed:{isActive:function(){return this.projectId==this.project.id}},methods:{handleClickSetting:function(){this.$router.push({name:"project manage",params:{projectId:this.project.id,plantId:this.$route.params.plantId}})},parent:function(){return this.$parent.$parent},matchedText:function(t){return""===this.highlight?t:"string"===typeof t?t.replace(this.highlight,'<strong class="has-background-warning">'.concat(this.highlight,"</strong>")):t},handleClick:function(){this.$router.push({name:"project tasks",params:{projectId:this.project.id,plantId:this.$route.params.plantId}})}}}),u=l,p=(i("f135"),i("2877")),d=Object(p["a"])(u,c,o,!1,null,"4905726a",null);d.options.__file="item.vue";var h=d.exports,f={name:"PlantProjects",components:{ProjectItem:h},props:{projectId:{}},data:function(){return{query:"",isQueryFocus:!1,queryArchived:"进行中",selectedProjectId:null}},computed:Object(r["a"])({},Object(n["e"])({data:function(t){return t.projects.data},list:function(t){return t.projects.list},isLoading:function(t){return t.projects.isLoading}}),{listFilteredByQuery:function(){var t=this,e=this.list;switch(""!==this.query&&(e=this.list.filter(function(e){var i=t.data[e];return-1!==i.name.indexOf(t.query)})),this.queryArchived){case"进行中":e=e.filter(function(e){return null===t.data[e].filed_at});break;case"已归档":e=e.filter(function(e){return null!==t.data[e].filed_at});break}return e}}),methods:Object(r["a"])({},Object(n["b"])({getDataSource:"projects/getDataSource"}),Object(n["d"])({setQuery:"projects/setQuery"})),created:function(){var t=this.$route.params.projectId;this.$router.push({name:"project tasks",params:{plantId:this.$route.params.plantId,projectId:t||-1}}),this.getDataSource()}},m=f,v=(i("6346"),Object(p["a"])(m,s,a,!1,null,"ee9a63fa",null));v.options.__file="index.vue";e["default"]=v.exports}}]);
//# sourceMappingURL=chunk-dac1.7f750ab8.js.map