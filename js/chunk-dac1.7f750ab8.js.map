{"version":3,"sources":["webpack:///./src/app/plant-projects/index.vue?39ff","webpack:///./src/app/plant-projects/item.vue?cf1e","webpack:///./src/app/plant-projects/index.vue?d223","webpack:///./src/app/plant-projects/item.vue?2d2d","webpack:///src/app/plant-projects/item.vue","webpack:///./src/app/plant-projects/item.vue?9cd6","webpack:///./src/app/plant-projects/item.vue","webpack:///src/app/plant-projects/index.vue","webpack:///./src/app/plant-projects/index.vue?3e88","webpack:///./src/app/plant-projects/index.vue"],"names":["_node_modules_mini_css_extract_plugin_dist_loader_js_node_modules_css_loader_index_js_ref_9_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_9_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_9_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_index_vue_vue_type_style_index_0_id_ee9a63fa_lang_sass_scoped_true___WEBPACK_IMPORTED_MODULE_0___default","_node_modules_mini_css_extract_plugin_dist_loader_js_node_modules_css_loader_index_js_ref_9_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_9_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_9_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_item_vue_vue_type_style_index_0_id_4905726a_lang_sass_scoped_true___WEBPACK_IMPORTED_MODULE_0___default","render","_vm","this","_h","$createElement","_c","_self","isLoading","staticClass","staticStyle","width","height","padding","font-size","on","click","$event","$router","push","name","params","$route","attrs","_m","directives","rawName","value","expression","type","domProps","focus","isQueryFocus","blur","input","target","composing","query","_l","state","key","class","is-active","queryArchived","textContent","_s","overflow","id","highlight","projectId","project","data","staticRenderFns","_v","aria-hidden","itemvue_type_template_id_4905726a_scoped_true_render","panel-block","isActive","display","handleClick","margin-left","white-space","innerHTML","matchedText","items-align","margin-right","stopPropagation","handleClickSetting","itemvue_type_template_id_4905726a_scoped_true_staticRenderFns","itemvue_type_script_lang_js_","props","String","computed","methods","plantId","parent","$parent","replace","concat","plant_projects_itemvue_type_script_lang_js_","component","Object","componentNormalizer","options","__file","item","plant_projectsvue_type_script_lang_js_","components","ProjectItem","selectedProjectId","objectSpread","vuex_esm","projects","list","listFilteredByQuery","_this","result","filter","indexOf","filed_at","getDataSource","setQuery","created","app_plant_projectsvue_type_script_lang_js_","plant_projects_component","__webpack_exports__"],"mappings":"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","file":"js/chunk-dac1.7f750ab8.js","sourcesContent":["import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../node_modules/css-loader/index.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/lib/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/lib/loader.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=ee9a63fa&lang=sass&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../node_modules/css-loader/index.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/lib/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/lib/loader.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=ee9a63fa&lang=sass&scoped=true&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../node_modules/css-loader/index.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/lib/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/lib/loader.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./item.vue?vue&type=style&index=0&id=4905726a&lang=sass&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../node_modules/css-loader/index.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/lib/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/lib/loader.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./item.vue?vue&type=style&index=0&id=4905726a&lang=sass&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (!_vm.isLoading)?_c('div',{staticClass:\"full-container is-flex\"},[_c('div',{staticClass:\"is-flex is-flex-column\",staticStyle:{\"width\":\"300px\",\"height\":\"100%\",\"padding\":\"0.5rem\"}},[_c('nav',{staticClass:\"panel\"},[_c('a',{staticClass:\"panel-block has-text-grey\",staticStyle:{\"font-size\":\"1rem\"},on:{\"click\":function($event){_vm.$router.push({\n          name: 'project create',\n          params: _vm.$route.params\n        })}}},[_c('Icon',{attrs:{\"name\":\"plus-bold\"}}),_vm._m(0)],1),_c('div',{staticClass:\"panel-block\"},[_c('p',{staticClass:\"control has-icons-left\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.query),expression:\"query\"}],staticClass:\"input\",attrs:{\"type\":\"text\"},domProps:{\"value\":(_vm.query)},on:{\"focus\":function($event){_vm.isQueryFocus = true},\"blur\":function($event){_vm.isQueryFocus = false},\"input\":function($event){if($event.target.composing){ return; }_vm.query=$event.target.value}}}),_vm._m(1)])]),_c('p',{staticClass:\"panel-tabs\"},_vm._l((['进行中', '已归档', '全部']),function(state){return _c('a',{key:state,class:{'is-active': state === _vm.queryArchived},domProps:{\"textContent\":_vm._s(state)},on:{\"click\":function($event){_vm.queryArchived = state}}})}))]),_c('div',{staticClass:\"is-flex-auto is-bordered full-container\"},[_c('el-scrollbar',{staticStyle:{\"height\":\"100%\",\"overflow\":\"hidden\"}},[_c('div',{staticClass:\"is-panel\"},_vm._l((_vm.listFilteredByQuery),function(id){return _c('ProjectItem',{key:id,attrs:{\"highlight\":_vm.isQueryFocus ? _vm.query : '',\"projectId\":_vm.projectId,\"project\":_vm.data[id]}})}))])],1)]),_c('div',{staticClass:\"is-flex-auto\"},[_c('router-view',{attrs:{\"project\":_vm.data[_vm.$route.params.projectId]}})],1)]):_c('div',{staticClass:\"loading\"})}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('span',[_c('strong',[_vm._v(\"创建项目\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('span',{staticClass:\"icon is-left\"},[_c('i',{staticClass:\"iconfont icon-search\",attrs:{\"aria-hidden\":\"true\"}})])}]\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('a',{class:{\n    'panel-block': true,\n    'is-active': _vm.isActive\n  },staticStyle:{\"display\":\"flex\",\"height\":\"60px\"},on:{\"click\":_vm.handleClick}},[(_vm.project.filed_at)?_c('span',{staticClass:\"tag is-primary\"},[_vm._v(\"\\n    已归档\\n  \")]):_c('span',{staticClass:\"tag is-success\"},[_vm._v(\"\\n    进行中\\n  \")]),_c('div',{staticStyle:{\"margin-left\":\"20px\",\"overflow\":\"hidden\"}},[_c('div',[_c('p',{staticStyle:{\"white-space\":\"nowrap\"},domProps:{\"innerHTML\":_vm._s(_vm.matchedText(_vm.project.name))}})])]),_c('div',{staticClass:\"is-right is-flex\",staticStyle:{\"items-align\":\"center\",\"height\":\"1.5rem\"}},[_c('a',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isActive),expression:\"isActive\"}],staticClass:\"is-clickable\",staticStyle:{\"margin-right\":\"0.75rem\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.handleClickSetting($event)}}},[_vm._m(0)])])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('span',{staticClass:\"icon\"},[_c('i',{staticClass:\"iconfont icon-gear\"})])}]\n\nexport { render, staticRenderFns }","<template>\n  <a\n    @click=\"handleClick\"\n    style=\"display: flex; height: 60px\"\n    :class=\"{\n      'panel-block': true,\n      'is-active': isActive\n    }\">\n\n    <span v-if=\"project.filed_at\" class=\"tag is-primary\">\n      已归档\n    </span>\n    <span v-else class=\"tag is-success\">\n      进行中\n    </span>\n\n    <div style=\"margin-left: 20px; overflow: hidden;\">\n      <div>\n        <p style=\"white-space: nowrap\" v-html=\"matchedText(project.name)\" />\n      </div>\n    </div>\n    \n    <div class=\"is-right is-flex\" style=\"items-align: center; height: 1.5rem\">\n      <a\n        v-show=\"isActive\"\n        class=\"is-clickable\"\n        style=\"margin-right: 0.75rem\"\n        @click.stop=\"handleClickSetting\">\n        <span class=\"icon\">\n          <i class=\"iconfont icon-gear\" />\n        </span>\n      </a>\n    </div>\n  </a>\n</template>\n\n<script>\nexport default {\n  props: {\n    projectId: {},\n    project: {},\n    highlight: String\n  },\n\n  computed: {\n    isActive () {\n      return this.projectId == this.project.id\n    }\n  },\n\n  methods: {\n    handleClickSetting () {\n      this.$router.push({\n        name: 'project manage',\n        params: {\n          projectId: this.project.id,\n          plantId: this.$route.params.plantId\n        }\n      })\n    },\n\n    parent () {\n      return this.$parent.$parent\n    },\n\n    matchedText (value) {\n      if (this.highlight === '') {\n        return value\n      }\n\n      return typeof value === 'string' ? value.replace(\n        this.highlight,\n        `<strong class=\"has-background-warning\">${this.highlight}</strong>`\n      ) : value\n    },\n\n    handleClick () {\n      this.$router.push({\n        name: 'project tasks',\n        params: {\n          projectId: this.project.id,\n          plantId: this.$route.params.plantId\n        }\n      })\n    }\n  }\n}\n</script>\n\n<style lang=\"sass\" scoped>\n.iconfont\n  font-size: 1.25rem\n  &:hover\n    font-size: 1.5rem\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./item.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./item.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./item.vue?vue&type=template&id=4905726a&scoped=true&\"\nimport script from \"./item.vue?vue&type=script&lang=js&\"\nexport * from \"./item.vue?vue&type=script&lang=js&\"\nimport style0 from \"./item.vue?vue&type=style&index=0&id=4905726a&lang=sass&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4905726a\",\n  null\n  \n)\n\ncomponent.options.__file = \"item.vue\"\nexport default component.exports","<template>\n  <div v-if=\"!isLoading\" class=\"full-container is-flex\">\n\n    <div\n      class=\"is-flex is-flex-column\"\n      style=\"width: 300px; height: 100%; padding: 0.5rem;\">\n      <nav class=\"panel\">\n        <a\n          class=\"panel-block has-text-grey\"\n          style=\"font-size: 1rem;\"\n          @click=\"$router.push({\n            name: 'project create',\n            params: $route.params\n          })\">\n          <Icon name=\"plus-bold\" />\n          <span><strong>创建项目</strong></span>\n        </a>\n        <div class=\"panel-block\">\n          <p class=\"control has-icons-left\">\n            <input\n              v-model=\"query\"\n              @focus=\"isQueryFocus = true\"\n              @blur=\"isQueryFocus = false\"\n              class=\"input\"\n              type=\"text\"\n            >\n            <span class=\"icon is-left\">\n              <i class=\"iconfont icon-search\" aria-hidden=\"true\"></i>\n            </span>\n          </p>\n        </div>\n\n        <p class=\"panel-tabs\">\n          <a\n            v-for=\"state in ['进行中', '已归档', '全部']\"\n            :key=\"state\"\n            v-text=\"state\"\n            @click=\"queryArchived = state\"\n            :class=\"{'is-active': state === queryArchived}\"\n          />\n        </p>\n        </nav>\n        <div class=\"is-flex-auto is-bordered full-container\">\n          <el-scrollbar style=\"height: 100%; overflow: hidden\">\n              <div class=\"is-panel\">\n                <ProjectItem\n                  v-for=\"id in listFilteredByQuery\"\n                  :highlight=\"isQueryFocus ? query : ''\"\n                  :projectId=\"projectId\"\n                  :key=\"id\"\n                  :project=\"data[id]\"\n                />\n              </div>\n          </el-scrollbar>\n        </div>\n      </div>    \n      <div class=\"is-flex-auto\">\n        <router-view :project=\"data[$route.params.projectId]\"/>\n      </div>\n  </div>\n  <div v-else class=\"loading\" />\n</template>\n\n<script>\nimport { mapState, mapActions, mapMutations } from 'vuex'\n\nimport ProjectItem from './item'\n\nexport default {\n  name: 'PlantProjects',\n\n  components: {\n    ProjectItem\n  },\n\n  props: {\n    projectId: {}\n  },\n\n  data () {\n    return {\n      query: '',\n      isQueryFocus: false,\n      queryArchived: '进行中',\n\n      selectedProjectId: null\n    }\n  },\n\n  computed: {\n    ...mapState({\n      data: state => state.projects.data,\n      list: state => state.projects.list,\n      isLoading: state => state.projects.isLoading\n    }),\n\n    listFilteredByQuery () {\n      let result = this.list\n      if (this.query !== '') {\n        result = this.list.filter(id => {\n          const item = this.data[id]\n          if (item.name.indexOf(this.query) !== -1) {\n            return true\n          } else {\n            return false\n          }\n        })\n      }\n\n      switch (this.queryArchived) {\n        case '进行中':\n          result = result.filter(id => this.data[id].filed_at === null)\n          break;\n\n        case '已归档':\n          result = result.filter(id => this.data[id].filed_at !== null)\n          break;\n      }\n\n      return result\n    }\n  },\n\n  methods: {\n    ...mapActions({\n      getDataSource: 'projects/getDataSource'\n    }),\n\n    ...mapMutations({\n      setQuery: 'projects/setQuery'\n    })\n  },\n\n  created () {\n    // 读取 projects 时为了不引起阻塞\n    // 将 projectId 设为 1\n    // 进入 tasks 视图后，将会决定加载哪个 id\n\n    const projectId = this.$route.params.projectId\n    this.$router.push({\n      name: 'project tasks',\n      params: {\n        plantId: this.$route.params.plantId,\n        projectId: projectId ? projectId : -1\n      }\n    })\n    this.getDataSource()\n  }\n}\n</script>\n\n<style lang=\"sass\" scoped>\n@import '@/assets/sass/index.sass'\n\n.is-panel\n  .panel-block\n    border-left: none\n    border-right: none\n    &:first-child\n      border-top: none\n    &.is-active\n      background-color: $background\n      border-right: 2px solid $info\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=ee9a63fa&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=ee9a63fa&lang=sass&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"ee9a63fa\",\n  null\n  \n)\n\ncomponent.options.__file = \"index.vue\"\nexport default component.exports"],"sourceRoot":""}